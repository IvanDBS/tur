# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º—ã —Å –ü–∞–≥–∏–Ω–∞—Ü–∏–µ–π

## üö® **–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞:**

### **–°–∏–º–ø—Ç–æ–º—ã:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–¢—É—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
- –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: `allResults.length = 20, paginated.length = 0`

### **–ü—Ä–∏—á–∏–Ω–∞:**
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `page` –∏ `per_page` –ù–ï –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫—É –≤—ã–∑–æ–≤–æ–≤:

```
useSearchForm ‚Üí useSearchData ‚Üí useObsApi ‚Üí Backend API
     ‚Üì              ‚Üì              ‚Üì
  page, per_page  ‚ùå –ù–ï –ü–†–ò–ù–ò–ú–ê–ï–¢  ‚ùå –ù–ï –ü–û–õ–£–ß–ê–ï–¢
```

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### **1. useSearchData.ts - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:**
```typescript
// –ë—ã–ª–æ:
const performSearch = async (searchParams: {
  country: number
  // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
}) => {

// –°—Ç–∞–ª–æ:
const performSearch = async (searchParams: {
  country: number
  // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  page?: number        // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
  per_page?: number    // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
}) => {
```

### **2. useObsApi.ts - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞:**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è API –≤—ã–∑–æ–≤–æ–≤
logger.debug(`performSearch API call: ${url}`)
```

### **3. useSearchForm.ts - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞
logger.debug(`Search params with pagination:`, searchParamsWithPagination)
```

## üéØ **–¢–µ–ø–µ—Ä—å —Ü–µ–ø–æ—á–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

```
useSearchForm.handleSearch()
    ‚Üì
  searchParamsWithPagination = { ..., page: 1, per_page: 100 }
    ‚Üì
useSearchData.performSearch(searchParamsWithPagination)
    ‚Üì
useObsApi.performSearch(searchParamsWithPagination)
    ‚Üì
POST /search?page=1&per_page=100
    ‚Üì
Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 100 –∑–∞–ø–∏—Å–µ–π
```

## üîç **–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### **–ü—Ä–∏ –ø–æ–∏—Å–∫–µ:**
```
Search params with pagination: {country: 1, page: 1, per_page: 100, ...}
performSearch API call: /search?page=1&per_page=100
Search completed: total_results = 100, results keys = 100
```

### **–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É 2:**
```
handlePageChange: changing from page 1 to page 2
paginatedResults: allResults.length = 100, currentPage = 2
paginatedResults: startIndex = 20, endIndex = 40, paginated.length = 20
SearchResults: results changed {results: Array(20), length: 20, ...}
```

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–∏—Å–∫** —Ç—É—Ä–æ–≤
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `per_page=100`
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É 2** - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å 20 —Ç—É—Ä–æ–≤
4. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É 3** - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å 20 —Ç—É—Ä–æ–≤
5. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É 6** - –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∞—è –ø–æ—Ä—Ü–∏—è

## üìä **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1**: 20 —Ç—É—Ä–æ–≤ (—ç–ª–µ–º–µ–Ω—Ç—ã 1-20)
- ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ 2**: 20 —Ç—É—Ä–æ–≤ (—ç–ª–µ–º–µ–Ω—Ç—ã 21-40) 
- ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ 3**: 20 —Ç—É—Ä–æ–≤ (—ç–ª–µ–º–µ–Ω—Ç—ã 41-60)
- ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ 4**: 20 —Ç—É—Ä–æ–≤ (—ç–ª–µ–º–µ–Ω—Ç—ã 61-80)
- ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ 5**: 20 —Ç—É—Ä–æ–≤ (—ç–ª–µ–º–µ–Ω—Ç—ã 81-100)
- ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ 6**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ—Ä—Ü–∏–∏ 100 –∑–∞–ø–∏—Å–µ–π

---

**–ü—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! –¢–µ–ø–µ—Ä—å –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.** üéâ
